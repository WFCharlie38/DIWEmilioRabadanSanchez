/* ===== Variables, reset y utilidades ===== */
:root{
  --bg:#0b1220;
  --panel:#0f172a;
  --muted:#94a3b8;
  --text:#e5e7eb;
  --brand:#38bdf8;
  --accent:#22d3ee;
  --border:#243043;
  --shadow: rgba(0,0,0,.35);
}
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; background:var(--bg); color:var(--text); font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif; }
a{ color:inherit; text-decoration:none; }
img{ max-width:100%; display:block; }
.container{ width:min(1100px, 90%); margin-inline:auto; }

/* ===== Header + Navbar ===== */
.site-header{
  position: sticky; top:0; z-index:9999;
  background: var(--panel);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--border);
  padding:.6rem 0; /* TODO: padding global del header */
}
.navbar{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; /* TODO: espaciar brand y nav-list */
  width:min(1100px,90%);
  margin-inline:auto;
}
.brand{ font-weight:800; letter-spacing:.2px; }
.brand span{ color: var(--accent); }

.nav-toggle{
  /* TODO: ocultar en escritorio, mostrar en móvil */
  background:transparent; border:1px solid var(--border); color:var(--text);
  padding:.4rem .6rem; border-radius:8px;
}
.nav-list{
  list-style:none; margin:0; padding:0;
  display:flex; gap: 8px;
}
.nav-list a{
  display:block;
  padding:.45rem .85rem; /* TODO: padding vertical/horizontal adecuado */
  border-radius:8px;
  transition:.15s;
}
.nav-list a:hover,
.nav-list a:focus-visible{
  background: rgba(255,255,255,.06); /* TODO: estado :hover/:focus-visible con fondo semitransparente */
}
.nav-list.open{ /* para móvil */ }

/* ===== Dropdowns ===== */
.dropdown{ position:relative; }
.dropbtn::after{
  /* TODO: flecha ▾ con ::after */
  content:"▾";
  margin-left:.25rem;
}
.dropdown-right > .dropbtn::after{
  content:"▸";
  margin-left:.25rem;
}
.dropdown-menu{
  position:absolute; left:0; top:calc(100% + 6px);
  min-width: 220px;
  background: var(--panel);
  border:1px solid var(--border);
  border-radius:10px;
  box-shadow: 0 10px 30px var(--shadow);
  opacity:0; visibility:hidden; transform: translateY(-6px);
  transition: opacity .18s ease, transform .18s ease;
  padding:.5rem 0; /* TODO: padding interno de los items */
}
.dropdown:hover > .dropdown-menu,
.dropdown:focus-within > .dropdown-menu{
  opacity:1; visibility:visible; transform: translateY(0);
}
.dropdown-menu li{ list-style:none; }
.dropdown-menu a{ display:block; padding:.5rem .9rem; /* TODO: padding item */ }
.dropdown-menu a:hover,
.dropdown-menu a:focus-visible{
  background: rgba(255,255,255,.06);
}
.dropdown-right{ position:relative; }
.dropdown-right > .dropdown-menu{
  left:100%; top:0; margin-left:8px;
}
.dropdown-right:hover > .dropdown-menu,
.dropdown-right:focus-within > .dropdown-menu{
  opacity:1; visibility:visible; transform: translateY(0);
}

/* ===== Responsive navbar ===== */
@media (max-width: 768px){
  .nav-list{ 
    /* TODO: convertir a columna, ocupar ancho completo y colapsar por defecto */
    position:absolute;
    top:100%; right:0; left:0;
    background:var(--panel);
    flex-direction:column;
    padding:1rem;
    gap:4px;
    display:none;
  }
  .nav-list.open{ /* TODO: expandir en móvil */ display:flex; }
  .nav-toggle{ display:inline-flex; }
}
@media (min-width: 769px){
  .nav-toggle{ display:none; }
}

/* ===== Cards / layout ===== */
.lead{ color:var(--muted); }
.cards{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap:16px; }
.card{ background: var(--panel); border:1px solid var(--border); border-radius:12px; padding:16px; }

.demo-box{ background: rgba(255,255,255,.03); border:1px dashed var(--border); border-radius:12px; padding:16px; margin-block:16px; }
.tall{ height: 50vh; }

/* ===== Counters ===== */
main{ counter-reset: seccion; } /* crear counter 'seccion' */
h2{
  /* TODO: incrementar contador y añadir número antes del título */
  counter-increment: seccion;
  position:relative;
}
h2::before{
  /* TODO: content: counter(seccion) ". "; estilo destacado */
  content: counter(seccion) ". ";
  color: var(--accent);
  font-weight:600;
}

/* TOC y Steps con counters anidados */
.toc{ counter-reset: item; }
.toc > li{
  /* TODO: numeración 1,2,3... con ::marker o ::before */
  counter-increment:item;
  list-style:none;
}
.toc > li::before{
  content: counter(item) ". ";
  margin-right:.4rem;
  color:var(--accent);
}

.steps-list{ counter-reset: paso; }
.steps-list > li{
  counter-increment: paso;
  /* TODO: número dentro de un círculo usando ::before */
  position:relative;
  padding-left:2.2rem;
  margin-bottom:1rem;
}
.steps-list > li::before{
  /* TODO: content: counter(paso); */
  content: counter(paso);
  position:absolute; left:0; top:0;
  width:1.6rem; height:1.6rem;
  border-radius:50%;
  background:var(--brand);
  color:var(--bg);
  font-weight:600;
  display:flex; align-items:center; justify-content:center;
}

/* ===== Focus & accesibilidad ===== */
a:focus-visible, button:focus-visible{ outline: 3px solid #60a5fa; outline-offset: 3px; }